---
description:
globs: COMMIT_EDITMSG
alwaysApply: false
---

## 操作流程

1. 阅读用户输入的本次提交简短描述（仅供参考）
2. 阅读暂存改动，使用 `git --no-pager diff --cached` ，**无需 q 退出终端**
3. 阅读提交记录，使用 `git --no-pager log -n 15` ，**无需 q 退出终端**
4. 根据用户简述、当前暂存区改动，参考过往提交记录，严格按照本规范，输出提交信息

## 基本格式 📋

```
<表情符号> [模块名称] <简短描述>

- <表情符号> 具体改动点1
- <表情符号> 具体改动点2

[可选的关联 issue]
```

## 表情符号规范 🎯

### 🌟 新功能与改进
| 符号 | 用途 | 示例描述 |
|------|------|----------|
| ✨ | 新功能 | `✨ [user] 用户注册功能` |
| 💄 | 代码优化 | `💄 [core] 统一错误处理逻辑` |
| ⚡️ | 性能优化 | `⚡️ [query] 优化数据库查询` |
| 🎨 | 代码格式/文档样式/UI样式 | `🎨 [home] 首页布局调整` |
| ♻️ | 功能/逻辑重构 | `♻️ [auth] 重构认证模块` |

### 🛠️ 修复与维护
| 符号 | 用途 | 示例描述 |
|------|------|----------|
| 🐛 | 发现bug | `🐛 [cert] 证件接口响应字段错误` |
| ✅ | 修复bug | `✅ [menu] 修复iOS菜单问题` |
| 🚑️ | 紧急修复/迁移 | `🚑️ [postgresql] 将数据库紧急迁移到AWS` |
| 🔒️ | 安全相关 | `🔒️ [auth] 加强密码校验` |
| 🔧 | 配置修改 | `🔧 [gradle] 更新代理配置` |
| 🚨 | 修复警告 | `🚨 [lint] 解决代码警告` |

### 📚 文档与依赖
| 符号 | 用途 | 示例描述 |
|------|------|----------|
| 📝 | 文档/注释更新 | `📝 [sms] 更改短信接口的注释文档` |
| 📚 | 文档/注释新增 | `📚 [shared] 添加模块说明` |
| ⬆️ | 依赖版本升级 | `⬆️ [deps] 升级Vue版本` |
| ⬇️ | 依赖版本降级 | `⬇️ [deps] 降级TypeScript` |
| 📌 | 依赖版本锁定 | `📌 [deps] 锁定React版本` |

### 🧪 测试与发布
| 符号 | 用途 | 示例描述 |
|------|------|----------|
| 🎉 | 壮举/全新内容/全新模块 | `🎉 [pay] 完全重构支付模块` |
| 🚀 | 发布版本 | `🚀 [release] 发布 v1.0.0` |
| 🧪 | 测试相关 | `🧪 [auth] 添加登录接口的单元测试` |
| 🔖 | 版本标签 | `🔖 [tag] tag v1.0.0` |

### 🔨 其他类型
| 符号 | 用途 | 示例描述 |
|------|------|----------|
| 🔨 | 开发/修订中 | `🔨 [template] 模板引擎正在修订` |
| 🔥 | 删除内容 | `🔥 [cursor] 删除废弃旧的规则文件` |
| 🚧 | 待优化/待编写/TODO | `🚧 [pay] 支付模块的实现类需要继续实现` |
| 💩 | 无法优化/已废弃/FIXME | `💩 [sms] 短信接口难以维护，xx厂商API一坨屎` |

## 提交示例 💡

### 完整示例

```
✨ [user] 用户登录功能

- 🔒️ 实现用户名密码验证
- 🔒️ 集成 JWT 认证
- ✨ 支持微信/支付宝登录
- 🧪 添加登录流程测试

Related to #123
```

```
🐛 [menu] 移动端菜单异常

- 🐛 在 iOS Safari 下无法展开
- 🎨 菜单展开动画卡顿
- 🔒️ 添加错误边界处理

Fixes #456
```

### 简单示例

```
🔧 [ci] 更新部署配置
```

```
📝 更新开发指南
```

```
🔒️ [auth] 实现用户名密码验证

- 🧪 添加登录流程测试
```

```
💩 [payment] 微信支付接口真垃圾

- 💩 微信支付接口变动导致无法测试
- 🚧 准备支付宝傻沙箱
- 🧪 编写支付宝沙箱测试

Related to #123
```


## 规范要求 ⚠️



### 格式要求 📋
- 标题行必须包含表情符号和简短描述
- 模块名使用英文小写，采用方括号 `[module]` 格式
- 描述必须使用中文，保持简短精确
- 避免使用"进行"、"把"等虚词
- 详细改动必须使用无序列表展示
- 每个列表项必须以对应的表情符号开头
- 表情符号必须与变更类型严格对应
- 如有多个改动点，使用列表逐项说明
- 相关 issue 引用必须放在最后一行

### 提交标题示例 ✨
✅ `✨ [user] 用户注册功能`
✅ `🐛 [api] 发现数据解析异常`
❌ `[user] 添加注册功能`  // 缺少表情符号
❌ `✨ 进行功能优化`      // 描述不具体
❌ `✨ [USER] 注册功能`   // 模块名大写

### Issue 关联
- 使用 `Fixes` 表示修复特定 issue
- 使用 `Closes` 表示关闭特定 issue
- 使用 `Related to` 表示与 issue 相关
- 使用 `Resolves` 表示解决特定 issue

### 禁止事项
- 禁止使用二级列表破坏可读性
- 禁止使用模糊表述，如"优化性能"、"提高质量"
- 禁止省略表情符号
